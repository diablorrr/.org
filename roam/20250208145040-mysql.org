:PROPERTIES:
:ID:       4c1ab286-7f66-46b2-a65a-35c20b6e7251
:END:
#+title: mysql

* 使用
** [[id:a47cc941-ccc6-4893-9862-d5b245ea912b][docker]]内配置mysql密码
1. docker run -d --name mysql-container -e MYSQL_ROOT_PASSWORD=123456 mysql:8.0



* 查询
** 命令行
|           | 命令                                                    | 作用                                                                 |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 登录/退出 | mysql -u <用户名> -p                                    | 登录mysql                                                            |
|           | exit                                                    | 退出mysql                                                            |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 数据库    | show databases;                                         | 查看所有数据库                                                       |
|           | select database();                                      | 查看当前数据库                                                       |
|           | use <数据库名>                                          | 切换数据库                                                           |
|           | create database <数据库名>                              | 创建数据库                                                           |
|           | drop database <数据库名>                                | 删除数据库                                                           |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 表结构    | show tables;                                            | 查看当前数据库中所有表                                               |
|           | create table <表名> (<字段名 类型>, <字段名 类型>...);  | 创建表                                                               |
|           | drop table <表名>;                                      | 删除表                                                               |
|           | desc <表名>;                                            | 查看表结构                                                           |
|           | alter table <表名> <操作[fn:操作命令]>;                 | 修改表结构                                                           |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 数据crud  | insert into <表名> values (<值1>, <值2>...)             | 插入数据                                                             |
|           | delete from <表名> where <条件>;                        | 删除数据                                                             |
|           | update <表名> set <字段>=<值> where <条件>;             | 更新数据                                                             |
|           | select * from <表名>;                                   | 查询所有数据                                                         |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 用户/权限 | create user '<用户名>'@'<主机>' identified by '<密码>'; | 创建用户                                                             |
|           | select User, Host from mysql.user                       | 查看系统用户表                                                       |
|           | drop user '<用户名>'@'<主机>';                          | 删除用户                                                             |
|-----------+---------------------------------------------------------+----------------------------------------------------------------------|
| 备份/恢复 | mysqldump -u <用户名> -p <库名> > <备份文件>.sql        | 备份数据库(系统终端使用)                                             |
|           | mysql -u <用户名> -p <库名> < <备份文件>.sql            | 恢复数据库(系统终端使用：数据库中得先新建<库名>)                     |
|           | source <[[id:71788677-257c-4952-96c6-aadd1b280c77][.sql]]文件路径>                                   | 恢复数据库(mysql命令行中使用：数据库中得先新建<库名>，且use <库名>;) |
** 常用数据类型
| 数据类型     | 存储空间            |
|--------------+---------------------|
| INT          | 4字节               |
| VARCHAR(<N>) | 可变，最大65535字节 |





* 概念
- 简介 ::
  1. 开源的关系型数据库管理系统



* Footnotes
[fn:操作命令]
| 命令                                        | 作用               |
|---------------------------------------------+--------------------|
| add column <列名> <数据类型> [after <列名>] | 添加列[指定列后]   |
| drop column <列名>                          | 删除列             |
| modify column <列名> <数据类型>             | 修改列数据类型     |
| change column <旧列名> <新列名> <数据类型>  | 重命令列并修改类型 |
