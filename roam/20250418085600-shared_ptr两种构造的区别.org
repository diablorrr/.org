:PROPERTIES:
:ID:       605fd9e8-9bc3-45ad-ab76-b5e3205222a0
:END:

* make_shared和shared_ptr构造函数
| 方式                   | 语法          | 内存分配次数 | 访问A私有函数 | 异常安全性 | 备注                                      |
|------------------------+---------------+--------------+---------------+------------+-------------------------------------------|
| make_shared<A>()       | 直接构造对象  | 1 次         | 不能          | 高         |                                           |
| shared_ptr<A>(new A()) | 先 new 再包装 | 2 次         | 能            | 低         | new成功，但shared_ptr构造失败 => 内存泄漏 |
: 仅在需要自定义删除器时，才显式使用 shared_ptr 的构造函数。
